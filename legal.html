<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Legal Documents | NovaSphere</title>
    
    <link rel="stylesheet" href="css/main.css">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    
    <style>
        .legal-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 120px 2rem 4rem;
        }
        .legal-content h1 { margin-bottom: 1rem; color: var(--accent-color); }
        .legal-content h2 { margin-top: 2rem; margin-bottom: 1rem; font-size: 1.5rem; }
        .legal-content p, .legal-content li { color: var(--text-secondary); margin-bottom: 1rem; }
        .legal-content ul { padding-left: 20px; }
        .last-updated { font-size: 0.9rem; opacity: 0.7; margin-bottom: 2rem; display: block; }
    </style>
</head>
<body>

    <nav class="navbar glass">
        <a href="index.html" class="logo">
            <i class='bx bx-planet' style="color: var(--accent-color);"></i> NovaSphere
        </a>
        <div class="nav-links">
            <a href="javascript:history.back()"><i class='bx bx-arrow-back'></i> Return to App</a>
        </div>
    </nav>

    <div class="legal-container">
        <div class="glass glass-card" style="padding: 3rem;">
            <div id="legal-content" class="legal-content">
                <!-- Content injected via JS -->
                <h1>Loading Document...</h1>
            </div>
        </div>
    </div>

    <footer style="text-align: center; padding: 2rem 0; color: var(--text-secondary);">
        <p>&copy; 2025 NovaSphere Studio.</p>
    </footer>

    <script src="js/theme.js"></script>
    <!-- We load app-data to get specific app details like Last Updated date -->
    <script src="js/app-data.js"></script> 

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const params = new URLSearchParams(window.location.search);
            const appId = params.get('app');
            const docType = params.get('doc'); // 'privacy' or 'terms'
            
            // Default generic data if app not found in DB
            let appName = "Our Application";
            let updatedDate = "January 1, 2025";
            let contactEmail = "support@novasphere.studio";

            // Try to fetch specific data from app-data.js
            if(appId && typeof appDatabase !== 'undefined' && appDatabase[appId]) {
                appName = appDatabase[appId].title;
                if(appDatabase[appId].lastUpdated) updatedDate = appDatabase[appId].lastUpdated;
            }

            const contentDiv = document.getElementById('legal-content');

            // GENERATE PRIVACY POLICY
            if (docType === 'privacy') {
                document.title = `Privacy Policy - ${appName}`;
                contentDiv.innerHTML = `
                    <h1>Privacy Policy</h1>
                    <span class="last-updated">Last Updated: ${updatedDate}</span>
                    
                    <p><strong>${appName}</strong> ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how your personal information is collected, used, and disclosed by ${appName}.</p>
                    
                    <h2>1. Information We Collect</h2>
                    <p>We believe in data minimization. We only collect information that is necessary for the functionality of the app.</p>
                    <ul>
                        <li><strong>Usage Data:</strong> Information on how you use the app (e.g., features used, time spent) to help us improve user experience.</li>
                        <li><strong>Device Data:</strong> Model, operating system version, and unique identifiers to ensure compatibility and debug crashes.</li>
                    </ul>

                    <h2>2. How We Use Your Information</h2>
                    <p>We use the information we collect to operate and maintain our app, improve our services, and respond to your comments and questions.</p>

                    <h2>3. Data Storage</h2>
                    <p>Most data generated by ${appName} is stored locally on your device. If cloud sync features are enabled, data is encrypted and stored securely on our servers.</p>

                    <h2>4. Contact Us</h2>
                    <p>If you have any questions about this Privacy Policy, please contact us at: <a href="mailto:${contactEmail}" style="color:var(--accent-color)">${contactEmail}</a></p>
                `;
            } 
            // GENERATE TERMS OF SERVICE
            else if (docType === 'terms') {
                document.title = `Terms of Service - ${appName}`;
                contentDiv.innerHTML = `
                    <h1>Terms of Service</h1>
                    <span class="last-updated">Last Updated: ${updatedDate}</span>
                    
                    <p>Please read these Terms of Service ("Terms") carefully before using the <strong>${appName}</strong> application operated by NovaSphere Studio.</p>
                    
                    <h2>1. Conditions of Use</h2>
                    <p>By downloading or using the app, these terms will automatically apply to you. You are not allowed to copy, or modify the app, any part of the app, or our trademarks in any way.</p>

                    <h2>2. Intellectual Property</h2>
                    <p>The app itself, and all the trade marks, copyright, database rights and other intellectual property rights related to it, still belong to NovaSphere Studio.</p>

                    <h2>3. Changes to This Agreement</h2>
                    <p>We reserve the right, at our sole discretion, to modify or replace these Terms at any time. What constitutes a material change will be determined at our sole discretion.</p>

                    <h2>4. Contact Us</h2>
                    <p>If you have any questions about these Terms, please contact us at: <a href="mailto:${contactEmail}" style="color:var(--accent-color)">${contactEmail}</a></p>
                `;
            } else {
                contentDiv.innerHTML = "<h1>Document Not Found</h1><p>Please return to the application.</p>";
            }
        });
    </script>
</body>
</html>
