<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artifact Details | NovaSphere</title>
    
    <link rel="stylesheet" href="css/alien-core.css">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
</head>
<body>

    <nav>
        <a href="index.html" class="logo">
            <i class='bx bx-planet' style="color: var(--neon-primary);"></i> NOVA<span style="color:white">SPHERE</span>
        </a>
        <div class="nav-links">
            <a href="portfolio.html"><i class='bx bx-arrow-back'></i> Return to Grid</a>
        </div>
    </nav>

    <div style="position: relative; height: 50vh; min-height: 400px; display: flex; align-items: flex-end; padding-bottom: 4rem; overflow: hidden;">
        <div id="hero-bg" style="position: absolute; inset: 0; background: #000; z-index: -2;"></div>
        <div style="position: absolute; inset: 0; background: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImgridIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiPjxwYXRoIGQ9Ik0wIDQMEwIDB2NDAiIHN0cm9rZT0icmdiYSgyNTUsMjU1LDI1NSwwLjEpIiBmaWxsPSJub25lIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIiAvPjwvc3ZnPg=='); z-index: -1; opacity: 0.3;"></div>
        
        <div class="container" style="display: flex; align-items: flex-end; gap: 2rem;">
            <div id="app-icon" class="glass" style="width: 120px; height: 120px; display: flex; align-items: center; justify-content: center; font-size: 60px; border-radius: 20px; box-shadow: 0 0 40px rgba(0,0,0,0.5);">
                <i class='bx bx-chip'></i>
            </div>
            <div style="padding-bottom: 10px;">
                <span id="app-category" style="color: var(--neon-secondary); font-family: var(--font-code); font-size: 0.8rem; letter-spacing: 2px;">CLASSIFIED</span>
                <h1 id="app-title" style="margin: 5px 0 10px;">LOADING...</h1>
                <div id="download-container" style="display: flex; gap: 10px;"></div>
            </div>
        </div>
    </div>

    <div class="container" style="margin-top: 4rem; margin-bottom: 4rem;">
        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 3rem;">
            
            <div class="reveal-blur">
                <div class="glass" style="padding: 2.5rem;">
                    <h3 style="color: var(--neon-primary); margin-bottom: 1rem;">// SYSTEM DESCRIPTION</h3>
                    <p id="app-description" style="white-space: pre-line; color: var(--text-muted); font-size: 1.05rem;">
                        Retrieving data...
                    </p>

                    <h3 style="color: var(--neon-primary); margin-top: 2.5rem; margin-bottom: 1rem;">// CORE CAPABILITIES</h3>
                    <ul id="app-features" style="list-style: none; padding: 0;">
                    </ul>
                </div>
            </div>

            <div class="reveal-pop delay-100">
                <div class="glass" style="padding: 2rem;">
                    <h3 style="font-size: 1rem; color: var(--text-main); border-bottom: 1px solid var(--glass-border); padding-bottom: 10px; margin-bottom: 1.5rem;">Artifact Specs</h3>
                    
                    <div style="display: flex; justify-content: space-between; margin-bottom: 1rem; font-family: var(--font-code); font-size: 0.9rem;">
                        <span style="color: var(--text-muted);">Version</span>
                        <span id="meta-version" style="color: var(--neon-secondary);">--</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 1rem; font-family: var(--font-code); font-size: 0.9rem;">
                        <span style="color: var(--text-muted);">Compiled</span>
                        <span id="meta-date">--</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 1rem; font-family: var(--font-code); font-size: 0.9rem;">
                        <span style="color: var(--text-muted);">Size</span>
                        <span id="meta-size">--</span>
                    </div>

                    <div style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid var(--glass-border); display: flex; flex-direction: column; gap: 10px;">
                        <button onclick="openDossier('privacy')" class="btn" style="background: rgba(255,255,255,0.05); color: var(--text-muted); justify-content: space-between; font-size: 0.7rem;">
                            Privacy Policy <i class='bx bx-lock-alt'></i>
                        </button>
                        <button onclick="openDossier('terms')" class="btn" style="background: rgba(255,255,255,0.05); color: var(--text-muted); justify-content: space-between; font-size: 0.7rem;">
                            Terms of Service <i class='bx bx-file'></i>
                        </button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <footer style="text-align: center; padding: 3rem; color: var(--text-muted); font-family: var(--font-code); font-size: 0.8rem;">
        NOVA_SYSTEM_V.2.0 // END_OF_LINE
    </footer>

    <div id="dossier-modal" class="modal-overlay">
        <div class="glass modal-content">
            <div class="dossier-header">
                <span id="dossier-title" style="font-family: var(--font-heading); color: var(--neon-primary);">CLASSIFIED</span>
                <button onclick="closeDossier()" style="background: none; border: none; color: var(--text-main); font-size: 1.5rem; cursor: pointer;">&times;</button>
            </div>
            <div id="dossier-body" class="dossier-body" style="white-space: pre-line;">
                <!-- Text Injected Here -->
            </div>
        </div>
    </div>

    <script src="js/app-data.js"></script>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const appId = urlParams.get('app');
        const data = appDatabase[appId];

        if (data) {
            document.title = `${data.title} | Protocol Verified`;
            
            document.getElementById('app-title').textContent = data.title;
            document.getElementById('app-category').textContent = `// ${data.category}`;
            document.getElementById('app-description').textContent = data.description;
            
            const iconBox = document.getElementById('app-icon');
            iconBox.innerHTML = `<i class='bx ${data.iconClass}'></i>`;
            iconBox.style.color = data.accentColor;
            iconBox.style.boxShadow = `0 0 50px ${data.accentColor}40`;
            iconBox.style.borderColor = data.accentColor;
            
            document.getElementById('hero-bg').style.background = data.banner;

            // Features
            const featList = document.getElementById('app-features');
            data.features.forEach(f => {
                const li = document.createElement('li');
                li.style.cssText = "padding: 8px 0; border-bottom: 1px dashed var(--glass-border); color: var(--text-muted); display: flex; align-items: center; gap: 10px;";
                li.innerHTML = `<i class='bx bx-check' style='color: var(--neon-secondary)'></i> ${f}`;
                featList.appendChild(li);
            });

            document.getElementById('meta-version').textContent = data.version;
            document.getElementById('meta-date').textContent = data.updated;
            document.getElementById('meta-size').textContent = data.size;

            // Downloads
            const dlContainer = document.getElementById('download-container');
            data.downloads.forEach(dl => {
                const btn = document.createElement('a');
                btn.href = dl.link;
                btn.className = 'btn btn-primary';
                btn.innerHTML = `<i class='bx ${dl.icon}' style='font-size: 1.2rem; margin-right: 8px;'></i> ${dl.name}`;
                dlContainer.appendChild(btn);
            });
        } else {
            document.body.innerHTML = "<h1 style='color:red; text-align:center; margin-top:20%'>CRITICAL ERROR: ARTIFACT NOT FOUND</h1>";
        }

        const modal = document.getElementById('dossier-modal');
        const dTitle = document.getElementById('dossier-title');
        const dBody = document.getElementById('dossier-body');

        function openDossier(type) {
            if (!data || !data.legal) return;
            
            modal.classList.add('active');
            if (type === 'privacy') {
                dTitle.textContent = "PRIVACY_PROTOCOL.txt";
                dBody.textContent = data.legal.privacy;
            } else {
                dTitle.textContent = "TERMS_OF_USE.txt";
                dBody.textContent = data.legal.terms;
            }
        }

        function closeDossier() {
            modal.classList.remove('active');
        }

        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeDossier();
        });

        document.addEventListener("DOMContentLoaded", () => {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) entry.target.classList.add('active');
                });
            }, { threshold: 0.1 });
            document.querySelectorAll('.reveal-blur, .reveal-pop').forEach((el) => observer.observe(el));
        });
    </script>
</body>
</html>
